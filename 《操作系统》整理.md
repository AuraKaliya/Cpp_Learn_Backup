# 操作系统整理

## 概述

操作系统具有的基本特性：并发、共享、虚拟、异步。除此之外，分时系统具有及时响应、实时系统具有实时特征、批处理系统具有高资源利用率和系统吞吐量。

* 并发和并行

    并行性是指两个或多个事件在同一时刻发生，并发性是指两个或多个事件在同一时间间隔内发生。

* 共享

    在操作系统环境下的资源共享也被称为资源复用，指系统中的资源可供内存中多个并发执行的进程共同使用。目前，主要的方式为：互斥的共享方式和同时的访问方式。

* 虚拟

    在操作系统中，把通过某种技术将一个物理实体变为若干个逻辑上的对应物的功能称为虚拟，通过时分复用和空分复用技术实现。

* 异步

    将程序的执行分为多个阶段，允许先入内存的后执行完毕的情况发生。

## 进程同步

为了保证多个进程有条不紊地运行，在多道程序系统中，必须引入进程同步机制。

* 进程同步的两种制约关系

    间接制约：进程向系统申请临界资源必须要互斥地访问。

    直接制约：对于从同一内存区域进行存读的程序，需要协调程序的执行次序。

* 生产者-消费者问题

    生产者向缓冲区内生产产品，消费者通过从缓冲区内取走产品进行消费。不允许消费者进入空缓冲区拿产品，也不允许生产者向满缓冲区生产产品。

    在处理时，应考虑令生产者和消费者互斥地访问缓冲区余量的变量。

## 死锁问题

在系统中有许多不同类型的资源，其中可以引起死锁的主要为“互斥访问类”和“不可抢占类”资源。

资源一般分为可重用性和消耗性资源，也分为可抢占性和不可抢占性资源。

* 引起死锁的原因

    竞争不可抢占资源引起的循环等待。

    竞争可消耗资源引起的阻塞等待。

    进程推进不当导致系统进入不安全状态引起资源耗尽无法释放。

* 产生死锁的必要条件

    资源互斥、请求和保持、不可抢占、循环等待。

* 处理死锁

    预防、避免、检测、解除。

    